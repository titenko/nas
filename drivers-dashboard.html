---
layout: default-staff
title: Drivers Dashboard
---

<div style="padding-top: 44pt" class="header-article">  
<h1>{{ page.title }}</h1>
  <a href="{{ site.baseurl }}/beta" class="read-back">Back to home</a>
</div>

<script>
  var auth = sessionStorage.getItem('auth');
  var allowedRoles = [];

  // Выбираем, какие роли имеют доступ к текущей странице
  if (window.location.href.indexOf('admin-dashboard') !== -1) {
    allowedRoles = ['admin'];
  } else if (window.location.href.indexOf('drivers-dashboard') !== -1) {
    allowedRoles = ['admin', 'driver'];
  } else if (window.location.href.indexOf('staff-dashboard') !== -1) {
    allowedRoles = ['admin', 'staff'];
  }

  // Проверяем, имеет ли пользователь доступ к текущей странице
  if (!auth || allowedRoles.indexOf(auth) === -1) {
    window.location.href = '{{ site.baseurl }}/auth';
  }

  var form = document.querySelector('form');
  form.addEventListener('submit', function(e) {
    e.preventDefault();
    var password = document.querySelector('#password').value;
    var role = '';

    // Определяем, какая роль соответствует введенному паролю
    if (password === 'admin') {
      role = 'admin';
    } else if (password === 'drivers') {
      role = 'driver';
    } else if (password === 'staff') {
      role = 'staff';
    }

    if (allowedRoles.indexOf(role) !== -1) {
      sessionStorage.setItem('auth', role);
      window.location.href = '{{ site.baseurl }}/' + role + '-dashboard';
    } else {
      alert('Incorrect password');
    }
  });
</script>

<div style="text-align: center">
<a href="{{ site.baseurl }}/drivers-test" class="main-buttons">Delivery of consumables</a>
<br>
<a href="{{ site.baseurl }}/schedule-drivers" class="main-buttons">Schedule drivers</a>
</div>

<style>
.wrapper-footer {
    position: fixed;
}

.main-buttons {
    text-transform: none;
    font-size: 16pt;
    display: inline-block;
    padding: 15px 15px;
    background: #347d39;
    color: #fff;
    border-radius: 6px;
    text-decoration: none;
    width: 300px;
    margin: 30px auto;
}

.read-back {
    text-transform: none;
    font-size: 15px;
    display: inline-block;
    padding: 10px 15px;
    background: #347d39;
    color: #fff;
    border-radius: 6px;
    text-decoration: none;
  }
</style>
